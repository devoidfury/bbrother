(function(){"use strict";function t(t){return 10>t?"0"+t:t}function e(t){return o.lastIndex=0,o.test(t)?'"'+t.replace(o,function(t){var e=s[t];
return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)
})+'"':'"'+t+'"'}function n(t,o){var s,r,i,u,a,l=o[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),typeof l){case"string":return e(l);
case"number":return isFinite(l)?l+"":"null";case"boolean":case"null":return l+"";
case"object":if(!l)return"null";if(a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(u=l.length,s=0;u>s;s+=1)a[s]=n(s,l)||"null";
return i=0===a.length?"[]":"["+a.join(",")+"]"}for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(i=n(r,l),i&&a.push(e(r)+":"+i));
return i=0===a.length?"{}":"{"+a.join(",")+"}"}}"object"!=typeof JSON&&(JSON={}),"function"!=typeof JSON.stringify&&(JSON.stringify=function(t){return n("",{"":t})
}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z":null
},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()
});var o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}
})(),/**@license
 * bbrother <http://github.com/devoidfury/bbrother>
 * Version: 0.1.0 (Tue, 11 Dec 2012 15:17:54 GMT)
 * License: MIT
 */
function(t){function e(t){return Array.prototype.slice.apply(t)}function n(){}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])
}function s(e,i,u){var a;if(!i&&e&&e.opts)a=e,o(a,s.prototype),i=a.opts,u=a.parent,e=a.name.split(".").pop();
else if(a=this,!(a instanceof s))return new s(e,i,u);a.opts=i||{},a.parent=u,u&&(e=[u.name,e].join(".")),a.events=[],a.name=e,a.level=a.opts.level||0,a.sendCall=a.opts.sendCall||!1,a.callback=a.opts.callback||n,a.logNumber=s.count++,a.sendCall&&(t["catchResponse"+a.logNumber]=a.opts.catchResponse||n),r[a.name]=a
}var r={},i=t.bb_opts||{};s.count=0,s.levels={TRUE_ERR:5,ERR:4,WARN:3,INFO:2,DEBUG:1,LOG:0},s.prototype={log:function(){this.send(e(arguments),s.levels.LOG)
},debug:function(){this.send(e(arguments),s.levels.DEBUG)},info:function(){this.send(e(arguments),s.levels.INFO)
},warn:function(){this.send(e(arguments),s.levels.WARN)},err:function(){this.send(e(arguments),s.levels.ERR)
},pushEvent:function(t,e,n){this.events.push({name:n,lvl:e,args:t}),this.parent&&this.parent.pushEvent(t,e,n)
},send:function(t,e){t instanceof Array||(t=[t]),e>=this.level&&(1===t.length&&(t=t[0]),this.pushEvent(t,e,this.name),this.callback(t,e,this.name),this.sendCall&&this.sendRequest(t,e))
},sendRequest:function(t,e){var n=encodeURIComponent(JSON.stringify(t)),o=document.createElement("script"),s="?n="+encodeURIComponent(this.name);
s+="&l="+e+"&d="+n,s+="&cb=catchResponse"+this.logNumber,o.setAttribute("type","text/javascript"),o.setAttribute("src",this.sendCall+s);
var r=document.getElementById("bb");r.parentNode.insertBefore(o,r)},sub:function(t,e){return new s(t,e,this)
}};for(var u=t.loggers||[],a=t.bbt||[],l=0;u.length>l;l++)r[u[l].name]||s(u[l]);
for(l=0;a.length>l;l++)r[a[l][2]].send(e(a[l][0]),a[l][1]);var c=r[i.name||"main"]||new s(i.name||"main",i);
t[i.global_name||"bb"]=c,t.onerror=function(){return c.send(e(arguments),s.levels.TRUE_ERR),c.suppressErrors
}}(window);